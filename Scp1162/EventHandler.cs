using System;
using System.Collections.Generic;
using System.Linq;
using AdminToys;
using CustomPlayerEffects;
using InventorySystem.Items;
using LabApi.Events.Arguments.PlayerEvents;
using LabApi.Events.CustomHandlers;
using LabApi.Features.Wrappers;
using MEC;
using PlayerRoles;
using UnityEngine;
using PrimitiveObjectToy = LabApi.Features.Wrappers.PrimitiveObjectToy;
using Random = UnityEngine.Random;
using TextToy = LabApi.Features.Wrappers.TextToy;

namespace SCP1162;

public class EventHandler : CustomEventsHandler
{
    internal static readonly CustomInteractableToyData InteractableToyData = new()
    {
        Name = "SCP1162",
        Offset = new Vector3(-0.5102f,0.3771f,0f),
        Scale = new Vector3(2.020494f, 1.52872f, 0.01f)
    };


    internal static readonly List<CustomTextToyData> TextToys =
    [
        new()
        {
            Text =
                "<size=1><line-height=0.61><cspace=-0.09em><color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>█████████████████████████████████</color><color=#030303>█████</color><color=#000000>████</color>\n<color=#000000>██████████████████████████████</color><color=#030303>████</color><color=#020200>█</color><color=#030303>███████</color>\n<color=#000000>███████████████████████████</color><color=#030303>███</color><color=#070705>█</color><color=#0A0A08>█</color><color=#070705>██</color><color=#040402>██</color><color=#000000>█</color><color=#060606>█</color><color=#010101>█</color><color=#060604>██</color><color=#020200>█</color>\n<color=#000000>███████████████████████████</color><color=#060604>██</color><color=#090907>██</color><color=#0C0C0A>███</color><color=#080806>███</color><color=#030301>██</color><color=#070705>██</color><color=#0B0B09>█</color>\n<color=#000000>██████████████████████</color><color=#030303>███</color><color=#060606>██</color><color=#0A0A08>█</color><color=#0D0D0B>████</color><color=#12130E>█</color><color=#0F100B>█</color><color=#12130E>██</color><color=#010100>██</color><color=#090907>████</color>\n<color=#000000>█████████████████████</color><color=#050505>█</color><color=#080808>█</color><color=#050505>█</color><color=#010101>██</color><color=#0C0C0A>█</color><color=#10100E>███</color><color=#020200>█</color><color=#0A0A08>█</color><color=#090A05>█</color><color=#0E0F0A>█</color><color=#0A0A08>██</color><color=#090A05>█</color><color=#020200>███</color><color=#12130E>█</color><color=#090A05>█</color>\n<color=#000000>███████████████████</color><color=#060606>█</color><color=#040402>██</color><color=#0D0D0B>█</color><color=#0A0A08>█</color><color=#040402>█</color><color=#000000>█</color><color=#10100E>██</color><color=#161712>██</color><color=#12130E>█</color><color=#060604>███</color><color=#0B0B09>█</color><color=#020200>█</color><color=#171715>█</color><color=#121210>█</color><color=#0A0A08>█</color><color=#010103>█</color><color=#010200>█</color><color=#1A1B16>█</color>\n<color=#000000>██████████████████</color><color=#070707>█</color><color=#050503>█</color><color=#0D0D0B>██</color><color=#11110F>█</color><color=#030301>█</color><color=#11110F>█</color><color=#090907>█</color><color=#1A1A18>█</color><color=#151513>█</color><color=#171813>█</color><color=#12130E>█</color><color=#181914>██</color><color=#080904>█</color><color=#11110F>██</color><color=#020202>█</color><color=#141510>█</color><color=#060503>█</color><color=#000100>██</color><color=#21221D>█</color><color=#2A2B26>█</color>\n<color=#000000>████████████████</color><color=#030303>██</color><color=#070707>███</color><color=#040402>█</color><color=#141412>██</color><color=#181816>█</color><color=#131311>█</color><color=#1B1B19>█</color><color=#1D1E19>█</color><color=#191A15>█</color><color=#1D1E19>█</color><color=#181914>█</color><color=#10110C>█</color><color=#191A15>█</color><color=#1F201B>█</color><color=#24231F>█</color><color=#1F1E1A>█</color><color=#151611>█</color><color=#1C1B17>█</color><color=#171614>█</color><color=#0A0A08>█</color><color=#32332E>█</color><color=#2D2E29>█</color>\n<color=#000000>████████████████</color><color=#030303>██</color><color=#090907>█</color><color=#10100E>█</color><color=#131311>█</color><color=#0F0F0D>█</color><color=#1D1D1B>█</color><color=#181816>█</color><color=#151513>█</color><color=#21221D>██</color><color=#1C1D18>█</color><color=#21221D>█</color><color=#1E1F1A>███</color><color=#171813>█</color><color=#1F201A>██</color><color=#0E0F0A>█</color><color=#13140F>█</color><color=#1D1E19>█</color><color=#060503>█</color><color=#0D0D0B>█</color><color=#2F302B>█</color><color=#2A2B26>█</color>\n<color=#000000>███████████████</color><color=#050505>██</color><color=#080806>██</color><color=#10100E>██</color><color=#1A1A18>█</color><color=#1E1E1C>██</color><color=#171715>█</color><color=#20211C>█</color><color=#1A1B16>█</color><color=#10110C>█</color><color=#22231E>██</color><color=#1E1F1A>█</color><color=#0C0D08>█</color><color=#2B2C27>█</color><color=#181914>██</color><color=#21221D>████</color><color=#171813>█</color><color=#22231D>█</color><color=#2F302A>█</color>\n<color=#000000>███████████████</color><color=#060606>█</color><color=#0C0C0A>█</color><color=#0F0F0D>██</color><color=#121210>█</color><color=#191917>█</color><color=#1F1F1D>██</color><color=#171715>█</color><color=#151611>█</color><color=#1A1A18>█</color><color=#272823>█</color><color=#1B1C17>█</color><color=#252621>█</color><color=#21221D>█</color><color=#282923>█</color><color=#181913>█</color><color=#1C1D18>██</color><color=#23241F>█</color><color=#181914>█</color><color=#151611>█</color><color=#10110C>█</color><color=#242520>█</color><color=#2B2C27>██</color><color=#2E2F2A>█</color>\n<color=#000000>███████████████</color><color=#070707>█</color><color=#0E0E0C>█</color><color=#121210>██</color><color=#151513>██</color><color=#1F1F1D>█</color><color=#1C1C1A>█</color><color=#080806>█</color><color=#161614>██</color><color=#010100>█</color><color=#22231E>██</color><color=#2B2C26>█</color><color=#1C1D18>█</color><color=#20211C>█</color><color=#151611>█</color><color=#1C1D18>█</color><color=#242520>█</color><color=#2C2D28>█</color><color=#20211C>█</color><color=#181914>█</color><color=#141510>█</color><color=#20211C>█</color><color=#32332D>█</color><color=#272822>█</color>\n<color=#000000>███████████████</color><color=#0A0A0A>█</color><color=#11110F>█</color><color=#141412>█</color><color=#171715>█</color><color=#1D1D1B>██</color><color=#0A0A08>█</color><color=#272725>█</color><color=#161614>█</color><color=#282826>██</color><color=#252621>█</color><color=#2E2D29>█</color><color=#282722>█</color><color=#2C2D27>█</color><color=#23221E>█</color><color=#282924>█</color><color=#242520>█</color><color=#2C2D28>█</color><color=#282924>█</color><color=#20211C>██</color><color=#10110C>█</color><color=#191A15>█</color><color=#161511>█</color><color=#201F1B>█</color><color=#262521>█</color>\n<color=#000000>██████████████</color><color=#030303>█</color><color=#11110F>█</color><color=#151513>██</color><color=#1B1B19>██</color><color=#242422>██</color><color=#2F302B>█</color><color=#222220>█</color><color=#2F302B>█</color><color=#292A25>██</color><color=#252621>█</color><color=#22231E>█</color><color=#2A2B25>█</color><color=#262521>█</color><color=#30312B>█</color><color=#272823>██</color><color=#23241F>██</color><color=#161712>█</color><color=#12130E>█</color><color=#242520>█</color><color=#1A1B16>██</color><color=#171612>█</color>\n<color=#000000>██████████████</color><color=#080806>█</color><color=#10100E>█</color><color=#151513>█</color><color=#1E1E1C>█</color><color=#1B1B19>███</color><color=#141510>█</color><color=#2F302B>██</color><color=#3B3C37>█</color><color=#2E2F2A>██</color><color=#31322D>█</color><color=#42413D>█</color><color=#32312D>██</color><color=#282923>███</color><color=#1D1E19>█</color><color=#171813>██</color><color=#0F100B>█</color><color=#161712>█</color><color=#1B1C17>██</color><color=#1F211C>█</color>\n<color=#000000>█████████████</color><color=#030303>█</color><color=#080808>█</color><color=#121210>█</color><color=#181816>█</color><color=#1F1F1D>█</color><color=#252523>██</color><color=#2E2F2A>██</color><color=#32332E>█</color><color=#373833>██</color><color=#2E2F2A>█</color><color=#373833>█</color><color=#2B2C27>█</color><color=#3C3D38>█</color><color=#3A3935>█</color><color=#34332F>█</color><color=#242520>███</color><color=#151611>███</color><color=#0C0D08>██</color><color=#0D0D0B>█</color><color=#141412>█</color><color=#1A1A18>█</color>\n<color=#000000>█████████████</color><color=#030303>█</color><color=#0D0D0D>█</color><color=#121210>█</color><color=#1A1A18>█</color><color=#20201E>█</color><color=#252523>█</color><color=#282826>█</color><color=#2E2F2A>█</color><color=#373833>██</color><color=#40413C>█</color><color=#383934>█</color><color=#3E3F39>█</color><color=#2D2E29>█</color><color=#393A35>█</color><color=#353630>██</color><color=#282924>██</color><color=#22231E>█</color><color=#141412>█</color><color=#0B0C07>█</color><color=#070803>███</color><color=#030301>████</color>\n<color=#000000>█████████████</color><color=#050505>█</color><color=#080806>█</color><color=#11110F>█</color><color=#171715>█</color><color=#20201E>██</color><color=#242422>█</color><color=#2B2C27>█</color><color=#30312C>█</color><color=#2C2D28>█</color><color=#383934>███</color><color=#3F403A>█</color><color=#393A34>█</color><color=#32332E>█</color><color=#383934>█</color><color=#282924>██</color><color=#20201E>█</color><color=#050503>█</color><color=#020200>█████</color><color=#030303>███</color>\n<color=#000000>█████████████</color><color=#0B0B09>██</color><color=#1A1A18>█</color><color=#21211F>█</color><color=#242422>█</color><color=#2C2D28>██</color><color=#31322D>██</color><color=#3C3D38>██</color><color=#393A34>█</color><color=#3C3D37>█</color><color=#383933>██</color><color=#32332D>█</color><color=#2B2C27>█</color><color=#272823>█</color><color=#22231E>█</color><color=#131311>█</color><color=#090907>█</color><color=#030303>████</color><color=#020200>█</color><color=#030303>█</color><color=#020200>██</color>\n<color=#000000>████████████</color><color=#030303>█</color><color=#090907>█</color><color=#121210>█</color><color=#1C1C1A>█</color><color=#242422>█</color><color=#292927>█</color><color=#2D2E29>█</color><color=#32332E>█</color><color=#3C3D38>██</color><color=#3F403B>█</color><color=#43443E>█</color><color=#454641>█</color><color=#3E3F39>█</color><color=#4B4C47>█</color><color=#3C3D38>█</color><color=#31322C>█</color><color=#292A24>█</color><color=#23241F>█</color><color=#1E1F1A>█</color><color=#11110F>█</color><color=#040404>████</color><color=#030301>█████</color>\n<color=#000000>████████████</color><color=#070707>█</color><color=#0C0C0A>█</color><color=#151513>█</color><color=#1F1F1D>█</color><color=#262624>█</color><color=#292927>█</color><color=#222220>█</color><color=#272823>█</color><color=#393A35>██</color><color=#444540>█</color><color=#474843>██</color><color=#4A4B46>███</color><color=#30312B>█</color><color=#292A24>█</color><color=#1A1B16>█</color><color=#13140F>█</color><color=#0A0A08>█</color><color=#030301>█████████</color>\n<color=#000000>████████████</color><color=#060606>█</color><color=#0F0F0D>█</color><color=#131311>█</color><color=#1E1E1C>█</color><color=#272725>█</color><color=#30312C>█</color><color=#262722>█</color><color=#292A25>█</color><color=#33342F>█</color><color=#3E3F3A>██</color><color=#474843>█</color><color=#4C4D47>█</color><color=#51524A>█</color><color=#4C4B46>██</color><color=#33342F>█</color><color=#242520>█</color><color=#1A1B16>█</color><color=#0F0F0D>█</color><color=#040404>████████</color><color=#030301>██</color></cspace></line-height></size>",
            Offset = new Vector3(0f, 0f, 0f)
        },
        new()
        {
            Text = "<size=1><line-height=0.61><cspace=-0.09em><color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#010101>███████████████████████████████████████████</color>\n<color=#050503>█</color><color=#020200>████</color><color=#070705>███</color><color=#020200>███████████████████████████████████</color>\n<color=#090907>██</color><color=#040402>█</color><color=#0D0D0B>█</color><color=#060604>█</color><color=#0B0B09>██</color><color=#080806>█</color><color=#050503>███</color><color=#020200>█</color><color=#030303>███</color><color=#000000>████████████████████████████</color>\n<color=#131311>█</color><color=#0D0D0B>█</color><color=#0A0A08>█</color><color=#10100E>█</color><color=#0D0D0B>█</color><color=#0F100B>██</color><color=#0B0B09>███</color><color=#080806>███</color><color=#050503>██</color><color=#020202>████████████████████████████</color>\n<color=#0C0C0A>█</color><color=#151513>█</color><color=#0B0B09>█</color><color=#141510>████</color><color=#0F100B>██</color><color=#0D0D0B>██</color><color=#040402>█</color><color=#080806>███</color><color=#040402>█</color><color=#060606>██</color><color=#030303>███████</color><color=#000000>██████████████████</color>\n<color=#181713>█</color><color=#22231E>█</color><color=#1F201B>█</color><color=#161712>██</color><color=#12130E>███</color><color=#0C0D08>█</color><color=#090A05>█</color><color=#0D0E09>██</color><color=#0A0A08>██</color><color=#0E0E0C>█</color><color=#010100>█</color><color=#040404>█</color><color=#070705>████</color><color=#020202>██████████████████████</color>\n<color=#20211C>███</color><color=#1B1A16>█</color><color=#181713>█</color><color=#151611>████</color><color=#11120C>██</color><color=#080904>█</color><color=#0D0D0B>██</color><color=#080806>█</color><color=#010101>█</color><color=#060606>███████</color><color=#030303>███</color><color=#000000>█████████████████</color>\n<color=#23241F>██</color><color=#2A2B26>█</color><color=#1C1B17>█</color><color=#13120E>██</color><color=#191A15>██</color><color=#151610>█</color><color=#181914>█</color><color=#0D0E09>█</color><color=#141510>█</color><color=#181914>█</color><color=#141510>█</color><color=#0C0D08>█</color><color=#040404>█</color><color=#0B0B0B>█</color><color=#090907>█████</color><color=#050505>██</color><color=#020202>███████████████████</color>\n<color=#2B2C27>█</color><color=#282924>█</color><color=#252621>█</color><color=#373632>█</color><color=#2B2C26>█</color><color=#1B1C16>█</color><color=#161712>█</color><color=#1D1E19>█</color><color=#262722>█</color><color=#22231E>█</color><color=#1A1B16>█</color><color=#1E1F1A>█</color><color=#161712>█</color><color=#1A1B16>█</color><color=#171813>█</color><color=#0C0C0A>█</color><color=#171715>█</color><color=#131311>█</color><color=#10100E>██</color><color=#0D0D0B>██</color><color=#0A0A0A>█</color><color=#080806>█</color><color=#050505>██</color><color=#020202>█████████████████</color>\n<color=#282923>███</color><color=#31302C>█</color><color=#282723>█</color><color=#1F1E1A>█</color><color=#252420>█</color><color=#171914>█</color><color=#141510>█</color><color=#1A1B16>██</color><color=#242520>█</color><color=#1D1E19>██</color><color=#1A1B16>█</color><color=#0A0B06>█</color><color=#171715>█</color><color=#0E0E0C>█</color><color=#131311>█</color><color=#0F0F0D>███</color><color=#0A0A08>██</color><color=#050503>█</color><color=#060606>█</color><color=#020202>█████████████████</color>\n<color=#292A24>███</color><color=#33322E>█</color><color=#292824>█</color><color=#31302C>██</color><color=#282924>█</color><color=#161712>█</color><color=#1D1E19>███</color><color=#20211C>████</color><color=#1D1E19>██</color><color=#181816>██</color><color=#11110F>██</color><color=#0E0E0C>█</color><color=#0A0A08>██</color><color=#070707>█</color><color=#010101>█████████████████</color>\n<color=#383933>█</color><color=#2C2D28>█</color><color=#242520>█</color><color=#302F2B>█</color><color=#34332F>█</color><color=#2E2D29>█</color><color=#3C3B36>█</color><color=#393833>██</color><color=#141611>█</color><color=#1A1B16>█</color><color=#20211C>█</color><color=#252620>███</color><color=#1F201B>█</color><color=#22231E>█</color><color=#1E1F1A>██</color><color=#161614>██</color><color=#121210>█</color><color=#0F0F0D>█</color><color=#0C0C0A>█</color><color=#090907>██</color><color=#010101>█████████████████</color>\n<color=#2A2925>█</color><color=#22211D>███</color><color=#292A25>█</color><color=#32322A>█</color><color=#35342F>█</color><color=#3D3A31>█</color><color=#33322D>█</color><color=#383733>██</color><color=#3C3B37>█</color><color=#1A1B15>███</color><color=#21221D>█</color><color=#252621>█</color><color=#21221D>█</color><color=#1E1F1A>██</color><color=#181816>█</color><color=#151513>██</color><color=#0F0F0D>█</color><color=#0C0C0A>█</color><color=#080808>█</color><color=#020202>█████████████████</color>\n<color=#1F201B>█</color><color=#1B1C17>█</color><color=#0F100B>██</color><color=#191814>█</color><color=#211C16>█</color><color=#24231E>█</color><color=#32312D>█</color><color=#373832>█</color><color=#2C2D28>█</color><color=#31322D>██</color><color=#3A3B35>█</color><color=#272822>█</color><color=#191814>█</color><color=#1F1E1A>█</color><color=#22211D>█</color><color=#23241F>███</color><color=#1B1B19>█</color><color=#171715>█</color><color=#10100E>█</color><color=#131311>█</color><color=#0D0D0B>█</color><color=#090907>█</color><color=#030303>█</color><color=#000000>████████████████</color>\n<color=#1D1F1C>██</color><color=#10110C>██</color><color=#0E0E0C>█</color><color=#191813>█</color><color=#26231C>█</color><color=#303028>█</color><color=#2D2E28>█</color><color=#31322C>█</color><color=#353630>███</color><color=#30312B>█</color><color=#2D2C28>█</color><color=#302F2B>█</color><color=#292824>█</color><color=#2D2E29>█</color><color=#2A2B26>█</color><color=#242520>██</color><color=#1A1A18>██</color><color=#141412>█</color><color=#0C0C0A>█</color><color=#090909>█</color><color=#010101>█████████████████</color>\n<color=#1A1A18>█</color><color=#040402>███</color><color=#080806>█</color><color=#12130E>█</color><color=#15140F>█</color><color=#23221D>█</color><color=#2A2B25>█</color><color=#2F302B>██</color><color=#2A2B25>█</color><color=#363731>█</color><color=#31302B>█</color><color=#292A25>█</color><color=#30312B>████</color><color=#272725>██</color><color=#21211F>█</color><color=#1D1D1B>█</color><color=#0F0F0D>██</color><color=#0C0C0A>█</color><color=#010101>█████████████████</color>\n<color=#020200>████</color><color=#070705>█</color><color=#171813>██</color><color=#1B1A15>█</color><color=#393A34>██</color><color=#2D2E28>█</color><color=#242520>█</color><color=#2E2F29>█</color><color=#34352D>█</color><color=#302F2B>█</color><color=#353430>██</color><color=#22231E>█</color><color=#2B2C27>█</color><color=#292927>██</color><color=#232321>█</color><color=#1F1F1D>█</color><color=#151513>█</color><color=#0E0E0C>██</color><color=#050505>█</color><color=#000000>████████████████</color>\n<color=#030303>████</color><color=#060604>█</color><color=#10110C>█</color><color=#161511>█</color><color=#211E17>█</color><color=#23201B>█</color><color=#322F2A>█</color><color=#35322D>█</color><color=#2D2C28>█</color><color=#34352F>█</color><color=#393A34>██</color><color=#36362E>█</color><color=#383733>█</color><color=#2B2C27>██</color><color=#252523>█</color><color=#212123>█</color><color=#222220>█</color><color=#191917>█</color><color=#141412>█</color><color=#11110F>█</color><color=#0D0D0B>█</color><color=#030303>██</color><color=#000000>███████████████</color>\n<color=#030303>█████</color><color=#090A05>█</color><color=#11100C>█</color><color=#1B1811>█</color><color=#232115>█</color><color=#252219>██</color><color=#31302B>█</color><color=#343530>█</color><color=#31322D>█</color><color=#2F302A>█</color><color=#2E2D29>█</color><color=#353430>█</color><color=#2D2E29>██</color><color=#21221D>█</color><color=#1D1D1B>█</color><color=#20201E>█</color><color=#1C1C1A>█</color><color=#0A0A08>█</color><color=#121210>█</color><color=#0D0D0D>█</color><color=#010101>█████████████████</color>\n<color=#020200>████</color><color=#090907>██</color><color=#14130F>█</color><color=#1B1811>█</color><color=#252219>████</color><color=#25251B>█</color><color=#3A3934>█</color><color=#33322D>█</color><color=#32352E>█</color><color=#282923>█</color><color=#2E2F2A>█</color><color=#32332E>██</color><color=#2F302B>█</color><color=#272725>█</color><color=#20201E>█</color><color=#1C1C1A>█</color><color=#0B0B09>█</color><color=#0E0E0C>█</color><color=#040404>█</color><color=#000000>████████████████</color>\n<color=#020200>████</color><color=#090907>█</color><color=#080904>█</color><color=#0D0C08>█</color><color=#181712>█</color><color=#232017>████</color><color=#24211C>█</color><color=#32312D>██</color><color=#3B3A36>█</color><color=#3D3E38>█</color><color=#353630>█</color><color=#3A3B36>█</color><color=#343530>█</color><color=#30302E>█</color><color=#272725>█</color><color=#1F1F1D>█</color><color=#151513>█</color><color=#121210>█</color><color=#0C0C0C>█</color><color=#020202>█████████████████</color>\n<color=#020200>████</color><color=#060604>█</color><color=#0A0905>█</color><color=#11100C>██</color><color=#201D16>█</color><color=#1F1C13>█</color><color=#221F16>█</color><color=#222216>██</color><color=#303026>█</color><color=#3A3935>█</color><color=#3F3E3A>█</color><color=#30312B>█</color><color=#393A35>██</color><color=#353631>█</color><color=#242520>██</color><color=#0D0D0B>█</color><color=#070705>█</color><color=#10100E>█</color><color=#0B0B0B>█</color><color=#020202>█████████████████</color></cspace></line-height></size>",
            Offset = new Vector3(-1.000525f, 0f, 0f)
        },
        new()
        {
            Text = "<size=1><line-height=0.61><cspace=-0.09em><color=#000000>█████████████</color><color=#0A0A08>█</color><color=#161614>█</color><color=#1E1E1C>█</color><color=#252523>█</color><color=#2A2A28>██</color><color=#252523>█</color><color=#343530>█</color><color=#3F403B>██</color><color=#484944>█</color><color=#4C4D48>██</color><color=#474843>█</color><color=#43423E>█</color><color=#383933>█</color><color=#22231D>█</color><color=#1A1B16>█</color><color=#0E0E0C>█</color><color=#030303>████████</color><color=#020200>██</color>\n<color=#000000>████████████</color><color=#070707>██</color><color=#0F0F0D>█</color><color=#1A1A18>█</color><color=#1F1F1D>█</color><color=#2A2A28>█</color><color=#2E2F2A>█</color><color=#282924>█</color><color=#383934>█</color><color=#353631>█</color><color=#3E3F3A>█</color><color=#454641>██</color><color=#484944>███</color><color=#393834>█</color><color=#2F302A>█</color><color=#151611>█</color><color=#040402>███████████</color>\n<color=#000000>████████████</color><color=#070707>█</color><color=#0A0A0A>█</color><color=#090907>█</color><color=#131311>█</color><color=#1C1C1A>█</color><color=#222220>█</color><color=#292927>█</color><color=#2C2D28>██</color><color=#40413C>████</color><color=#454641>██</color><color=#44453D>█</color><color=#41423C>█</color><color=#30312B>█</color><color=#0B0C07>█</color><color=#030301>███████████</color>\n<color=#000000>█████████████</color><color=#050505>█</color><color=#080808>█</color><color=#0C0C0A>█</color><color=#1B1B19>██</color><color=#252621>█</color><color=#282924>█</color><color=#2C2D28>█</color><color=#3B3C37>█</color><color=#43443F>█</color><color=#40413C>█</color><color=#43443E>██</color><color=#484944>█</color><color=#43443F>█</color><color=#30312C>█</color><color=#373832>█</color><color=#050601>█</color><color=#030301>███████████</color>\n<color=#000000>██████████████</color><color=#090907>██</color><color=#1D1D1B>███</color><color=#181914>█</color><color=#2E2F2A>█</color><color=#383934>█</color><color=#42433E>████</color><color=#3C3D37>█</color><color=#41423D>█</color><color=#32332B>██</color><color=#13140F>█</color><color=#050503>███████████</color>\n<color=#000000>█████████████</color><color=#030303>██</color><color=#121210>█</color><color=#191917>█</color><color=#21211F>█</color><color=#0D0D0B>█</color><color=#20201E>█</color><color=#262722>█</color><color=#21221D>█</color><color=#353631>██</color><color=#3A3B36>██</color><color=#32332E>█</color><color=#3D3E39>█</color><color=#494A44>█</color><color=#292A24>█</color><color=#2B2C27>█</color><color=#040402>███████████</color>\n<color=#000000>██████████████</color><color=#070707>█</color><color=#10100E>█</color><color=#161614>█</color><color=#20201E>█</color><color=#131311>█</color><color=#1B1B19>█</color><color=#282924>█</color><color=#353631>██</color><color=#3A3B36>█</color><color=#40413C>██████</color><color=#272822>██</color><color=#030301>█</color><color=#030504>█████████</color>\n<color=#000000>██████████████</color><color=#070707>█</color><color=#0D0D0B>█</color><color=#161614>█</color><color=#1D1D1B>█</color><color=#20201E>█</color><color=#282826>█</color><color=#262722>█</color><color=#343530>█</color><color=#30312C>█</color><color=#363732>█</color><color=#393A35>██</color><color=#40413C>█</color><color=#2F3028>█</color><color=#3F403A>█</color><color=#353630>█</color><color=#2A2925>█</color><color=#23221E>█</color><color=#1C1D18>█</color><color=#030301>█████████</color>\n<color=#000000>██████████████</color><color=#040404>█</color><color=#090907>█</color><color=#11110F>█</color><color=#191917>█</color><color=#21211F>██</color><color=#1C1D18>██</color><color=#32332E>███</color><color=#383934>█</color><color=#353631>█</color><color=#40413C>██</color><color=#3B3C36>█</color><color=#3F403B>█</color><color=#393A34>█</color><color=#2F302A>█</color><color=#1F201A>█</color><color=#030400>██</color><color=#050505>██████</color>\n<color=#000000>███████████████</color><color=#070707>█</color><color=#0D0D0B>█</color><color=#121210>█</color><color=#161614>█</color><color=#21211F>█</color><color=#272823>█</color><color=#20211C>█</color><color=#292A25>█</color><color=#30312C>██</color><color=#363732>█</color><color=#33342F>██</color><color=#363732>█</color><color=#3E3F3A>██</color><color=#43443F>█</color><color=#3E3F3A>█</color><color=#464742>█</color><color=#3F403B>█</color><color=#030301>██████</color><color=#030504>█</color>\n<color=#000000>███████████████</color><color=#030303>█</color><color=#0A0A08>█</color><color=#10100E>█</color><color=#171715>██</color><color=#20201E>█</color><color=#292A25>██</color><color=#2D2E29>██</color><color=#30312C>█</color><color=#373833>███</color><color=#2F302B>█</color><color=#363732>██</color><color=#3C3D37>██</color><color=#43443F>█</color><color=#41423C>█</color><color=#262721>█</color><color=#393A35>█</color><color=#2E2F2A>█</color><color=#070803>██</color><color=#010600>█</color>\n<color=#000000>███████████████</color><color=#030303>█</color><color=#080806>█</color><color=#0E0E0C>█</color><color=#151513>██</color><color=#21211F>█</color><color=#242422>██</color><color=#292927>█</color><color=#2C2D28>█</color><color=#21221D>█</color><color=#262722>█</color><color=#32332E>█</color><color=#2C2D28>█</color><color=#31322D>█</color><color=#3E3F3A>██</color><color=#393A35>█</color><color=#30312B>█</color><color=#383933>█</color><color=#454641>█</color><color=#2E2F29>█</color><color=#404139>█</color><color=#353630>█</color><color=#23241C>█</color><color=#292A25>█</color><color=#1F1E1A>█</color>\n<color=#000000>████████████████</color><color=#060606>█</color><color=#0A0A08>██</color><color=#11110F>█</color><color=#1E1E1C>██</color><color=#252523>█</color><color=#242520>█</color><color=#2B2C27>██</color><color=#23241F>██</color><color=#2A2B26>█</color><color=#343530>█</color><color=#31322D>█</color><color=#343530>█</color><color=#3B3C37>██</color><color=#3F403B>█</color><color=#383933>█</color><color=#42433E>██</color><color=#3C3D38>█</color><color=#393A35>█</color><color=#23241E>█</color><color=#292A25>█</color>\n<color=#000000>████████████████</color><color=#030303>█</color><color=#060606>█</color><color=#0C0C0A>█</color><color=#10100E>██</color><color=#171715>█</color><color=#1B1B19>█</color><color=#232321>██</color><color=#282924>█</color><color=#2D2E29>█████</color><color=#30312C>█</color><color=#353631>█</color><color=#3A3B36>████</color><color=#3E3F3A>█</color><color=#373833>█</color><color=#3A3B36>██</color><color=#3E3F3A>█</color>\n<color=#000000>█████████████████</color><color=#030303>█</color><color=#070707>█</color><color=#0D0D0B>█</color><color=#11110F>██</color><color=#1A1A18>█</color><color=#1D1D1B>█</color><color=#22231E>██</color><color=#2C2D28>█</color><color=#30312C>█</color><color=#2A2B26>█</color><color=#21221D>██</color><color=#30312C>█</color><color=#353631>█</color><color=#32332E>██</color><color=#373833>█</color><color=#33342F>█</color><color=#373833>████</color><color=#33342F>█</color>\n<color=#000000>██████████████████</color><color=#040404>█</color><color=#080806>██</color><color=#10100E>█</color><color=#131313>█</color><color=#010100>█</color><color=#171715>█</color><color=#1F1F1D>█</color><color=#242520>█</color><color=#282826>█</color><color=#11110F>█</color><color=#181816>█</color><color=#2B2B29>█</color><color=#161712>█</color><color=#292A24>█</color><color=#1D1E19>█</color><color=#23241E>█</color><color=#2C2D28>█</color><color=#282924>█</color><color=#31322D>█</color><color=#343530>█</color><color=#393A35>█</color><color=#32332E>█</color><color=#393A35>█</color>\n<color=#000000>███████████████████</color><color=#030303>█</color><color=#070707>█</color><color=#0A0A08>█</color><color=#060606>██</color><color=#131311>█</color><color=#1C1C1A>██</color><color=#0B0B09>█</color><color=#151513>██</color><color=#191917>██</color><color=#1E1E1C>█</color><color=#070705>█</color><color=#1D1D1B>██</color><color=#2D2E28>██</color><color=#2A2B26>█</color><color=#30312C>█</color><color=#343530>█</color><color=#2F302B>█</color>\n<color=#000000>█████████████████████</color><color=#030303>█████</color><color=#0D0D0D>█</color><color=#070707>█</color><color=#090A05>█</color><color=#1C1C1A>█</color><color=#090907>█</color><color=#191917>█</color><color=#1F1F1D>█</color><color=#050503>█</color><color=#141412>█</color><color=#0B0B09>█</color><color=#20201E>██</color><color=#2A2B26>█</color><color=#2D2E29>█</color><color=#2A2B26>█</color><color=#11110F>█</color>\n<color=#000000>█████████████████████</color><color=#040404>█</color><color=#010101>██</color><color=#050505>██</color><color=#000000>███</color><color=#10100E>█</color><color=#1A1A18>█</color><color=#10100E>█</color><color=#1C1C1A>█</color><color=#050505>█</color><color=#131311>█</color><color=#050503>█</color><color=#1B1B19>█</color><color=#22231E>█</color><color=#262722>█</color><color=#1C1D18>█</color><color=#1E1E1C>█</color><color=#000000>█</color>\n<color=#000000>█████████████████████</color><color=#030303>███</color><color=#070705>██</color><color=#010101>█</color><color=#060606>█</color><color=#000000>█</color><color=#141412>█</color><color=#0E0E0C>██</color><color=#141412>█</color><color=#050503>█</color><color=#131311>█</color><color=#040402>███</color><color=#191A15>█</color><color=#0B0C07>█</color><color=#151513>█</color><color=#020202>█</color>\n<color=#000000>█████████████████████</color><color=#030303>███</color><color=#070705>██</color><color=#010101>█</color><color=#070707>█</color><color=#020202>█</color><color=#0B0B09>█</color><color=#0F0F0D>█</color><color=#0C0C0A>██</color><color=#010101>█</color><color=#0C0C0A>██</color><color=#151515>█</color><color=#0D0D0B>█</color><color=#121210>█</color><color=#080904>█</color><color=#040404>█</color><color=#070707>█</color>\n<color=#000000>███████████████████████</color><color=#030303>█████</color><color=#060606>██</color><color=#0C0C0C>█</color><color=#030303>█</color><color=#080806>█</color><color=#050505>█</color><color=#090907>███</color><color=#030303>█</color><color=#090907>██</color><color=#0A0A0A>█</color><color=#020202>█</color>\n<color=#000000>█████████████████████████████</color><color=#050505>█████</color><color=#020202>██</color><color=#090909>█</color><color=#030303>█</color><color=#0A0A08>█</color><color=#010101>█</color><color=#070707>██</color>\n<color=#000000>██████████████████████████████</color><color=#030303>█████████</color><color=#000000>███</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color>\n<color=#000000>██████████████████████████████████████████</color></cspace></line-height></size>",
            Offset = new Vector3(0f, 0.7533f, 0f)
        },
        new()
        {
            Text = "<size=1><line-height=0.61><cspace=-0.09em><color=#020200>████</color><color=#060604>█</color><color=#090A05>█</color><color=#10110C>█</color><color=#171612>█</color><color=#1D1A13>█</color><color=#1F1C17>██</color><color=#1F1F15>█</color><color=#1C1B17>█</color><color=#303028>█</color><color=#33342E>█</color><color=#3D3C37>█</color><color=#353630>██</color><color=#3A3B36>█</color><color=#343530>█</color><color=#31322D>█</color><color=#2A2A28>█</color><color=#030301>██</color><color=#0B0B09>█</color><color=#080808>█</color><color=#020202>█████████████████</color>\n<color=#020200>████</color><color=#050503>█</color><color=#090A05>█</color><color=#0C0D08>█</color><color=#0F100B>█</color><color=#12110D>█</color><color=#18150E>█</color><color=#201D18>██</color><color=#25241F>█</color><color=#333329>█</color><color=#2E2D29>█</color><color=#36372F>█</color><color=#33342E>█</color><color=#3C3D37>█</color><color=#393A35>██</color><color=#2D2E29>█</color><color=#262624>█</color><color=#1C1C1A>██</color><color=#181816>█</color><color=#141412>█</color><color=#010101>█████████████████</color>\n<color=#020200>█████</color><color=#070803>███</color><color=#0F100B>██</color><color=#171612>█</color><color=#1B1A15>█</color><color=#33332B>█</color><color=#36362E>█</color><color=#383732>█</color><color=#353430>█</color><color=#3B3A36>█</color><color=#353630>██</color><color=#2F302B>█</color><color=#2C2D28>█</color><color=#272725>█</color><color=#21211F>█</color><color=#191917>█</color><color=#121210>██</color><color=#030303>██</color><color=#000000>███████████████</color>\n<color=#020200>█</color><color=#030303>████</color><color=#070705>███</color><color=#0C0C0A>██</color><color=#13120E>█</color><color=#16160E>█</color><color=#36362C>█</color><color=#32312C>███</color><color=#34352F>██</color><color=#363732>█</color><color=#31322D>█</color><color=#2A2B26>█</color><color=#252523>█</color><color=#1E1E1C>█</color><color=#121210>█</color><color=#161614>█</color><color=#0D0D0B>█</color><color=#020202>█████████████████</color>\n<color=#020200>████</color><color=#030303>██</color><color=#090907>██</color><color=#060805>█</color><color=#0A0B06>█</color><color=#10110C>█</color><color=#191814>█</color><color=#2D2D23>██</color><color=#33322E>██</color><color=#2C2D27>█</color><color=#343530>██</color><color=#30312C>█</color><color=#262722>██</color><color=#1B1B19>█</color><color=#171715>██</color><color=#0A0A08>█</color><color=#020202>█████████████████</color>\n<color=#030303>█</color><color=#020200>█████</color><color=#060604>█</color><color=#0A0C09>█</color><color=#070906>██</color><color=#0A0B06>█</color><color=#14130E>█</color><color=#282820>█</color><color=#2E2E26>█</color><color=#2F2E2A>█</color><color=#383732>█</color><color=#31322D>█</color><color=#373833>█</color><color=#2B2C27>██</color><color=#1E1E1C>█</color><color=#242422>█</color><color=#1A1A18>█</color><color=#0E0E0C>█</color><color=#0A0A08>█</color><color=#070707>█</color><color=#020202>█████████████████</color>\n<color=#030303>█</color><color=#020200>█████</color><color=#060604>█</color><color=#090907>████</color><color=#101008>█</color><color=#25241F>█</color><color=#34332E>█</color><color=#393A34>█</color><color=#31322C>██</color><color=#2C2D28>█</color><color=#262722>█</color><color=#272725>█</color><color=#21211F>█</color><color=#242422>█</color><color=#141412>█</color><color=#11110F>█</color><color=#0C0C0A>█</color><color=#020202>██████████████████</color>\n<color=#030303>██</color><color=#020200>██</color><color=#030303>███</color><color=#070705>████</color><color=#11120C>█</color><color=#272820>█</color><color=#2D2C27>█</color><color=#30312B>██</color><color=#2C2D28>███</color><color=#222220>██</color><color=#1A1A18>█</color><color=#131311>█</color><color=#0F0F0D>█</color><color=#080806>█</color><color=#010101>██████████████████</color>\n<color=#030303>█</color><color=#020200>███</color><color=#030303>███████</color><color=#0C0D08>█</color><color=#282924>█</color><color=#242520>█</color><color=#30312B>█</color><color=#262722>█</color><color=#2C2D28>██</color><color=#242422>█</color><color=#1F1F1D>█</color><color=#222220>█</color><color=#151513>█</color><color=#010100>█</color><color=#0D0D0B>█</color><color=#050505>█</color><color=#010101>██████████████████</color>\n<color=#020403>█</color><color=#020200>██</color><color=#030303>███████</color><color=#050601>█</color><color=#1B1C17>█</color><color=#252620>█</color><color=#21201C>█</color><color=#22231E>██</color><color=#292A25>██</color><color=#242422>█</color><color=#20201E>█</color><color=#1B1B19>█</color><color=#0D0D0B>██</color><color=#080806>█</color><color=#030303>█</color><color=#000000>██████████████████</color>\n<color=#030400>███</color><color=#010100>██████</color><color=#070803>█</color><color=#1A1B16>█</color><color=#22231E>█</color><color=#2A2B25>█</color><color=#272822>█</color><color=#2B2C27>█</color><color=#2E2F2A>██</color><color=#20201E>██</color><color=#1A1A18>█</color><color=#171715>█</color><color=#0D0D0B>█</color><color=#0A0A08>█</color><color=#050505>█</color><color=#020202>███████████████████</color>\n<color=#232019>█</color><color=#24241C>█</color><color=#1F201A>█</color><color=#2B2C24>███</color><color=#2C2D28>█</color><color=#32332D>█</color><color=#22231D>█</color><color=#242520>██</color><color=#282924>█</color><color=#2F302B>█</color><color=#272622>█</color><color=#2E2F2A>█</color><color=#262722>█</color><color=#23241F>█</color><color=#1D1D1B>██</color><color=#0E0E0C>█</color><color=#161614>█</color><color=#0F0F0D>█</color><color=#080808>█</color><color=#050505>█</color><color=#010101>███████████████████</color>\n<color=#2B2A26>█</color><color=#3A3B35>█</color><color=#373832>█</color><color=#393A35>█</color><color=#363732>█</color><color=#30312C>█</color><color=#282923>██</color><color=#2E2F29>█</color><color=#21221C>█</color><color=#272823>██</color><color=#1C1D18>█</color><color=#292A25>█</color><color=#262624>█</color><color=#222220>█</color><color=#171715>█</color><color=#141412>█</color><color=#181816>██</color><color=#131311>█</color><color=#0C0C0A>█</color><color=#050505>█</color><color=#010101>████████████████████</color>\n<color=#343530>█</color><color=#3B3C36>█</color><color=#2D2E29>█</color><color=#292A24>█</color><color=#2D2E29>███</color><color=#31322D>██</color><color=#2A2B26>█</color><color=#272823>███</color><color=#1D1D1B>█</color><color=#121212>█</color><color=#010101>█</color><color=#050505>█</color><color=#0E0E0E>██</color><color=#151513>█</color><color=#0F0F0D>█</color><color=#0A0A0A>█</color><color=#030303>█</color><color=#000000>████████████████████</color>\n<color=#383934>█</color><color=#3E3F3A>█</color><color=#2D2E29>█</color><color=#33342F>███</color><color=#2D2E29>██</color><color=#30312C>█</color><color=#2C2D28>█</color><color=#30312C>█</color><color=#252621>██</color><color=#151513>█</color><color=#1B1B19>█</color><color=#020200>█</color><color=#090909>█</color><color=#0D0D0B>██</color><color=#11110F>█</color><color=#0C0C0A>█</color><color=#050505>██</color><color=#000000>████████████████████</color>\n<color=#2A2B26>██</color><color=#2F302B>██████</color><color=#2A2B26>█</color><color=#20201E>█</color><color=#252621>█</color><color=#20201E>█</color><color=#252523>█</color><color=#121210>█</color><color=#151513>█</color><color=#090907>█</color><color=#171715>█</color><color=#090907>█</color><color=#0E0E0C>█</color><color=#0A0A08>██</color><color=#030303>██</color><color=#000000>████████████████████</color>\n<color=#31322D>█</color><color=#272823>█</color><color=#33342F>█</color><color=#2B2C27>██</color><color=#2E2F2A>██</color><color=#272823>█</color><color=#252523>█</color><color=#0B0B09>█</color><color=#20201E>█</color><color=#131311>█</color><color=#181816>█████</color><color=#10100E>██</color><color=#0A0A0A>█</color><color=#060606>█</color><color=#020202>██████████████████████</color>\n<color=#0A0A08>█</color><color=#1B1B19>█</color><color=#1E1F1A>█</color><color=#222220>█</color><color=#1C1C1A>█</color><color=#22231E>█</color><color=#252621>█</color><color=#1C1D18>█</color><color=#1D1D1B>█</color><color=#090907>█</color><color=#010100>█</color><color=#161614>█</color><color=#1D1D1B>█</color><color=#151513>█</color><color=#11110F>███</color><color=#0C0C0A>█</color><color=#060606>█</color><color=#030303>███</color><color=#000000>█████████████████████</color>\n<color=#040402>██</color><color=#151513>█</color><color=#0B0B09>█</color><color=#010101>█</color><color=#10100E>█</color><color=#1F1F1D>█</color><color=#141412>██</color><color=#030301>█</color><color=#131311>█</color><color=#0A0A08>█</color><color=#121210>█</color><color=#090907>█</color><color=#131311>█</color><color=#10100E>█</color><color=#0D0D0B>█</color><color=#050505>█</color><color=#020202>█████████████████████████</color>\n<color=#040404>█</color><color=#0D0D0B>█</color><color=#030301>██</color><color=#0A0A0A>█</color><color=#1C1C1A>█</color><color=#080806>█</color><color=#0D0D0B>██</color><color=#141412>█</color><color=#0E0E0C>██</color><color=#080806>█</color><color=#0C0C0A>█</color><color=#050503>█████</color><color=#010101>████████████████████████</color>\n<color=#0E0E0C>██</color><color=#080806>█</color><color=#010101>█</color><color=#070707>█</color><color=#0B0B09>█</color><color=#010101>█</color><color=#0E0E0C>█</color><color=#060606>█</color><color=#030303>█</color><color=#060604>█</color><color=#090907>██</color><color=#050505>█</color><color=#020202>█████████████████████████████</color>\n<color=#090909>█</color><color=#030303>██</color><color=#060606>█</color><color=#030303>█</color><color=#0A0A08>█</color><color=#020202>█</color><color=#0B0B09>█</color><color=#020202>██</color><color=#050505>███</color><color=#020202>██████████████████████████████</color>\n<color=#030303>█</color><color=#060606>█</color><color=#010101>█</color><color=#040404>██</color><color=#070707>█</color><color=#040404>███</color><color=#010101>██████████████████████████████████</color>\n<color=#020202>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color>\n<color=#000000>███████████████████████████████████████████</color></cspace></line-height></size>",
            Offset = new Vector3(-1.000525f, 0.7533f, 0f)
        }
    ];

    internal static readonly List<PrimitiveObjectToy> ParentToys = [];
    public override void OnServerRoundStarted()
    {
        foreach (var customRoomLocation in Plugin.Instance.Config.CustomRoomLocations)
        {
            if (Random.Range(0f, 100f) > customRoomLocation.Chance)
                continue;
            
            var room = Room.List.FirstOrDefault(room => room.Name == customRoomLocation.RoomName);
            if (room == null)
                return;
            
            var mainOffset = room.Transform.TransformPoint(customRoomLocation.Offset);
            var parentToy = PrimitiveObjectToy.Create();
            
            parentToy.Type = PrimitiveType.Cube;
            parentToy.Flags = PrimitiveFlags.None;
            parentToy.GameObject.name = $"SCP1162-{room.Name}-{Guid.NewGuid()}";
            parentToy.Position = mainOffset;
            parentToy.Rotation = room.Transform.rotation * Quaternion.Euler(customRoomLocation.Rotation);
            
            foreach (var toyData in TextToys)
            {
                var textToy = TextToy.Create(parentToy.Transform);
                textToy.GameObject.name = "Scp1162Text";
                textToy.TextFormat = toyData.Text;
                textToy.Position = toyData.Offset;
                textToy.Scale = new Vector3(0.775f, 0.775f, 0.775f);
                textToy.Rotation = new Quaternion(0, 0, 1,0);
            }

            var toy = InteractableToy.Create(parentToy.Transform);
            toy.GameObject.name = InteractableToyData.Name;
            toy.Position = InteractableToyData.Offset;
            toy.Scale = InteractableToyData.Scale;
            LogManager.Debug($"Created SCP-1162 at {toy.GameObject.transform.position}");
            ParentToys.Add(parentToy);
        }
        base.OnServerRoundStarted();
    }

    private static void GiveItem(Player player)
    {
        try
        {
            if (Plugin.Instance.Config == null) return;
            var items = Plugin.Instance.Config.ItemsToGive;

            player.SendHint(Plugin.Instance.Config.InteractionHint, 20);
            if (player.CurrentItem != null) player.RemoveItem(player.CurrentItem);
            player.CurrentItem = null;

            Timing.CallDelayed(0.1f, () =>
            {
                if (Plugin.Instance.Config.PercentCandy == 0 || Random.Range(0f, 100f) > Plugin.Instance.Config.PercentCandy)
                {                
                    var randomItem = items.RandomItem();
                    var item = player.AddItem(randomItem);
                    player.CurrentItem = item;
                    return;
                }
                var randomCandy = Plugin.Instance.Config.CandiesToGive.RandomItem();
                player.GiveCandy(randomCandy, ItemAddReason.Undefined);
            });
        }
        catch (Exception e)
        {
            LogManager.Error($"Error while giving item from SCP-1162: {e.Message}");
        }
    }

    public override void OnPlayerInteractedToy(PlayerInteractedToyEventArgs ev)
    {
        try
        {
            LogManager.Debug($"Player {ev.Player.Nickname} interacted with {ev.Interactable.GameObject.name}");
            if (ev.Interactable.GameObject.name != "SCP1162") return;
            if (Plugin.Instance.Config == null) return;
            if (ev.Player.Role is RoleTypeId.Scp3114 && !Plugin.Instance.Config.CanScp3114Use) return;
            var percentDisappearing = Plugin.Instance.Config.PercentDisappearing;
            if (ev.Player.CurrentItem != null)
            {
                if (ev.Player.CurrentItem.Type == ItemType.Snowball)
                {
                    ev.Player.SendHint("<color=red>You can't use SCP-1162 with a Snowball!</color>");
                    return;
                }

                if (percentDisappearing == 0 || Random.Range(0f, 100f) > percentDisappearing)
                {
                    GiveItem(ev.Player);
                }
                else
                {
                    if (ev.Player.CurrentItem != null) ev.Player.RemoveItem(ev.Player.CurrentItem);
                    ev.Player.SendHint(Plugin.Instance.Config.LostItemHint);
                }
            }
            else
            {
                if (Plugin.Instance.Config.HealthMinus == 0) return;
                ev.Player.Damage(Plugin.Instance.Config.HealthMinus, "SCP-1162");
                ev.Player.EnableEffect<Burned>(3, 5);
                ev.Player.SendHint(Plugin.Instance.Config.DamageHint);
            }
        }
        catch (Exception e)
        {
            LogManager.Error($"Error while interacting with SCP-1162: {e.Message}");
        }

        base.OnPlayerInteractedToy(ev);
    }

    public override void OnServerWaitingForPlayers()
    {
        _ = VersionManager.CheckForUpdatesAsync(Plugin.Instance.Version);
        
        foreach (var primitiveObjectToy in ParentToys)
            primitiveObjectToy.Destroy();
        ParentToys.Clear();
        
        base.OnServerWaitingForPlayers();
    }

    internal class CustomTextToyData
    {
        public string Text { get; set; }
        public Vector3 Offset { get; set; }
    }

    internal class CustomInteractableToyData
    {
        public string Name { get; set; }
        public Vector3 Offset { get; set; }
        public Vector3 Scale { get; set; }
    }
}